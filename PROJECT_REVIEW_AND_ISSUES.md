# –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞ Kezek –∏ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –º–µ—Å—Ç

**–î–∞—Ç–∞ –æ–±–∑–æ—Ä–∞:** 2026-01-26  
**–í–µ—Ä—Å–∏—è –ø—Ä–æ–µ–∫—Ç–∞:** 0.1.0

---

## üìã –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫
- **Frontend Web:** Next.js 16.0.7 (App Router), React 19.1.0, TypeScript 5
- **Frontend Mobile:** Expo ~54.0.30, React Native 0.81.5
- **Backend:** Next.js API Routes, Supabase (PostgreSQL + PostGIS)
- **–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** Supabase Auth (email OTP + SMS OTP + WhatsApp OTP)
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** Supabase PostgreSQL —Å RLS –ø–æ–ª–∏—Ç–∏–∫–∞–º–∏
- **Email:** Resend API
- **–ö–∞—Ä—Ç—ã:** –Ø–Ω–¥–µ–∫—Å.–ö–∞—Ä—Ç—ã
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** Jest, Playwright (E2E)
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ health-check endpoints

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **Monorepo —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:** apps/web, apps/mobile, packages/core-domain
- **–¢–∏–ø –ø—Ä–æ–µ–∫—Ç–∞:** –°–∏—Å—Ç–µ–º–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –±–∏–∑–Ω–µ—Å–æ–≤ (—Å–∞–ª–æ–Ω—ã –∫—Ä–∞—Å–æ—Ç—ã, –±–∞—Ä–±–µ—Ä—à–æ–ø—ã)
- **–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
  - –ü—É–±–ª–∏—á–Ω–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (—Å/–±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏)
  - –ö–∞–±–∏–Ω–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –±–∏–∑–Ω–µ—Å–∞ (dashboard)
  - –ö–∞–±–∏–Ω–µ—Ç —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ (staff)
  - –ö–∞–±–∏–Ω–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ (cabinet)
  - –ê–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å (super_admin)
  - –§–∏–Ω–∞–Ω—Å–æ–≤—ã–π —É—á–µ—Ç —Å–º–µ–Ω —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–æ–≤
  - –°–∏—Å—Ç–µ–º–∞ —Ä–µ–π—Ç–∏–Ω–≥–æ–≤ –∏ –æ—Ç–∑—ã–≤–æ–≤
  - –ü—Ä–æ–º–æ-–∞–∫—Ü–∏–∏ –∏ —Å–∫–∏–¥–∫–∏
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WhatsApp –∏ Telegram

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö)

### 1. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
**–§–∞–π–ª—ã:** 136+ —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `process.env.*!` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏  
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–ø–∞–¥–µ—Ç –≤ runtime, –µ—Å–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –Ω–µ –∑–∞–¥–∞–Ω–∞  
**–†–∏—Å–∫:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π - –ø–æ–ª–Ω–∞—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
**–ü—Ä–∏–º–µ—Ä—ã:**
- `apps/web/src/middleware.ts:23` - `process.env.NEXT_PUBLIC_SUPABASE_URL!`
- `apps/web/src/app/api/quick-hold/route.ts:97` - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `apps/web/src/lib/authBiz.ts` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
```typescript
// –°–æ–∑–¥–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–æ–¥—É–ª—å env.ts
export function getEnvVar(key: string, required = true): string {
  const value = process.env[key];
  if (required && !value) {
    throw new Error(`Missing required environment variable: ${key}`);
  }
  return value || '';
}
```

---

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Service Role Key –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–º –∫–æ–¥–µ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª—ã:** 58 —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `SUPABASE_SERVICE_ROLE_KEY`  
**–ü—Ä–æ–±–ª–µ–º–∞:** Service Role Key –æ–±—Ö–æ–¥–∏—Ç –≤—Å–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ –∏ –∏–º–µ–µ—Ç –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –ë–î  
**–†–∏—Å–∫:** –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π - —É—Ç–µ—á–∫–∞ –∫–ª—é—á–∞ = –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö  
**–ü—Ä–∏–º–µ—Ä—ã:**
- `apps/web/src/lib/authBiz.ts:131` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ service client
- `apps/web/src/app/admin/api/users/create/_lib.ts:35`

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –≤ `getSupabaseServiceRoleKey()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ `typeof window !== 'undefined'`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `apps/web/src/lib/SECURITY.md` —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (`scripts/check-service-key-security.*`)
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤–æ –≤—Å–µ –º–µ—Å—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–û—Å—Ç–∞–ª–æ—Å—å:**
- –û–±–Ω–æ–≤–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ ~50 —Ñ–∞–π–ª–æ–≤ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `getSupabaseServiceRoleKey()` –≤–º–µ—Å—Ç–æ –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ `process.env`
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –≤ CI/CD pipeline

---

### 3. Rate Limiting –Ω–∞ –æ—Å–Ω–æ–≤–µ in-memory —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–§–∞–π–ª:** `apps/web/src/lib/rateLimit.ts:22`  
**–ü—Ä–æ–±–ª–µ–º–∞:** In-memory Map –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ serverless –æ–∫—Ä—É–∂–µ–Ω–∏–∏ (Vercel)  
**–†–∏—Å–∫:** –í—ã—Å–æ–∫–∏–π - rate limiting –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ  
**–ö–æ–¥:**
```typescript
const rateLimitStore = new Map<string, { count: number; resetAt: number }>();
```

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Upstash Redis –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π fallback –Ω–∞ in-memory –¥–ª—è dev –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ Lazy loading Redis –∫–ª–∏–µ–Ω—Ç–∞ (–Ω–µ —Ç—Ä–µ–±—É–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–ª—è dev)
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `RATE_LIMITING_SETUP.md` —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `RATE_LIMITING.md`

**–û—Å—Ç–∞–ª–æ—Å—å:**
- –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `@upstash/redis`: `pnpm add @upstash/redis`
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel (—Å–º. `RATE_LIMITING_SETUP.md`)

---

### 4. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Error Boundaries –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –í –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –µ—Å—Ç—å ErrorBoundary, –≤ –≤–µ–±-–≤–µ—Ä—Å–∏–∏ –Ω–µ—Ç  
**–†–∏—Å–∫:** –í—ã—Å–æ–∫–∏–π - –æ—à–∏–±–∫–∞ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –º–æ–∂–µ—Ç —Å–ª–æ–º–∞—Ç—å –≤—Å—é —Å—Ç—Ä–∞–Ω–∏—Ü—É  
**–§–∞–π–ª—ã:**
- ‚úÖ `apps/mobile/src/components/ErrorBoundary.tsx` - –µ—Å—Ç—å
- ‚ùå `apps/web/src` - –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –°–æ–∑–¥–∞–Ω `apps/web/src/components/ErrorBoundary.tsx` - –∫–ª–∞—Å—Å-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –°–æ–∑–¥–∞–Ω `apps/web/src/components/ErrorDisplay.tsx` - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—à–∏–±–æ–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π i18n
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω ErrorBoundary –≤ –∫–æ—Ä–Ω–µ–≤–æ–π `apps/web/src/app/layout.tsx`
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö fallback –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Å–µ—Ç–µ–≤—ã—Ö –æ—à–∏–±–æ–∫
- ‚úÖ –ü–æ–∫–∞–∑ –¥–µ—Ç–∞–ª–µ–π –æ—à–∏–±–∫–∏ —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –æ—à–∏–±–∫–∏ (env, network, general)
- –ü–æ–∫–∞–∑ stack trace —Ç–æ–ª—å–∫–æ –≤ development —Ä–µ–∂–∏–º–µ
- –ö–Ω–æ–ø–∫–∏ –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –ø–æ–ø—ã—Ç–∫–∏ –∏ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å–∏—Å—Ç–µ–º–æ–π i18n

---

### 5. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö API routes ‚úÖ –ß–ê–°–¢–ò–ß–ù–û –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ –≤—Å–µ API routes –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç –≤—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π  
**–†–∏—Å–∫:** –í—ã—Å–æ–∫–∏–π - –≤–æ–∑–º–æ–∂–Ω—ã SQL injection, XSS, data corruption  
**–ü—Ä–∏–º–µ—Ä—ã:**
- `apps/web/src/app/api/quick-hold/route.ts:146` - –ø–∞—Ä—Å–∏–Ω–≥ JSON –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –ú–Ω–æ–≥–∏–µ routes –∏—Å–ø–æ–ª—å–∑—É—é—Ç `await req.json()` –±–µ–∑ —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (Zod)

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `apps/web/src/lib/validation/` —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `validateRequest()` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `validateQuery()` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ query –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –æ–±—â–∏–µ —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (UUID, email, phone, etc.)
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã —Å—Ö–µ–º—ã –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è (`quickHoldSchema`, `quickBookGuestSchema`)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–Ω—ã–µ routes: `quick-hold`, `quick-book-guest`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `apps/web/src/lib/validation/README.md`

**–û—Å—Ç–∞–ª–æ—Å—å:**
- –û–±–Ω–æ–≤–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ ~13 API routes –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- –î–æ–±–∞–≤–∏—Ç—å —Å—Ö–µ–º—ã –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (staff, services, branches, etc.)
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ routes, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–Ω–∏–º–∞—é—Ç —Ñ–∞–π–ª—ã/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

### 6. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ Security Headers ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ security headers –≤ Next.js  
**–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π-–í—ã—Å–æ–∫–∏–π - —É—è–∑–≤–∏–º–æ—Å—Ç–∏ XSS, clickjacking, MIME sniffing  
**–§–∞–π–ª:** `apps/web/next.config.ts` - –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã Security Headers –≤ `apps/web/next.config.ts` —á–µ—Ä–µ–∑ —Ñ—É–Ω–∫—Ü–∏—é `headers()`
- ‚úÖ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω—ã headers –≤ `apps/web/src/middleware.ts` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö routes
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –≤—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ security headers:
  - `Strict-Transport-Security` (HSTS) - –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω—ã–π HTTPS
  - `X-Frame-Options` - –∑–∞—â–∏—Ç–∞ –æ—Ç clickjacking
  - `X-Content-Type-Options` - –∑–∞—â–∏—Ç–∞ –æ—Ç MIME sniffing
  - `X-XSS-Protection` - –∑–∞—â–∏—Ç–∞ –æ—Ç XSS
  - `Referrer-Policy` - –∫–æ–Ω—Ç—Ä–æ–ª—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤ Referer
  - `Permissions-Policy` - –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –∫ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º
  - `Content-Security-Policy` - –∫–æ–Ω—Ç—Ä–æ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- ‚úÖ CSP –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Yandex Maps, Supabase, Facebook API, Telegram API
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `SECURITY_HEADERS.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –≤—Å–µ—Ö headers
- ‚úÖ Headers –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫–æ –≤—Å–µ–º routes (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- CSP –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π –ø—Ä–æ–µ–∫—Ç–∞
- HSTS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ 2 –≥–æ–¥–∞ —Å preload
- Headers –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∏ —á–µ—Ä–µ–∑ next.config.ts, –∏ —á–µ—Ä–µ–∑ middleware –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏–∏

---

### 7. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è —É—Ç–µ—á–∫–∞ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ –ª–æ–≥–∞—Ö ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –í –ª–æ–≥–∞—Ö –º–æ–≥—É—Ç –ø–æ–ø–∞–¥–∞—Ç—å —Ç–æ–∫–µ–Ω—ã, –∫–ª—é—á–∏, –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ  
**–ü—Ä–∏–º–µ—Ä—ã:**
- `apps/web/src/app/api/quick-hold/route.ts:127` - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ preview —Ç–æ–∫–µ–Ω–∞
- `apps/web/src/lib/log.ts` - –Ω—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–µ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `apps/web/src/lib/logSafe.ts` –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (—Ç–æ–∫–µ–Ω—ã, –∫–ª—é—á–∏, –ø–∞—Ä–æ–ª–∏)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ `logDebug`, `logError`, `logWarn` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `apps/web/src/app/api/quick-hold/route.ts`
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `apps/web/src/lib/senders/whatsapp.ts`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `apps/web/src/lib/LOGGING_SECURITY.md` —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏ –∏ –ø—Ä–∏–º–µ—Ä–∞–º–∏
- ‚úÖ –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏—è: `maskToken()`, `maskUrl()`

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π (token, key, secret, password, etc.)
- –£–º–Ω–æ–µ –º–∞—Å–∫–∏—Ä–æ–≤–∞–Ω–∏–µ: –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–≤—ã–µ/–ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–∏–º–≤–æ–ª—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- –†–µ–∫—É—Ä—Å–∏–≤–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç —Ü–∏–∫–ª–∏—á–µ—Å–∫–∏—Ö —Å—Å—ã–ª–æ–∫
- –≠–∫—Å–ø–æ—Ä—Ç —Ñ—É–Ω–∫—Ü–∏–∏ `sanitizeObject()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö

---

## üü† –í–´–°–û–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏ –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å)

### 8. –û–≥—Ä–æ–º–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (1629 —Å—Ç—Ä–æ–∫) ‚úÖ –ó–ù–ê–ß–ò–¢–ï–õ–¨–ù–û –£–õ–£–ß–®–ï–ù–û
**–§–∞–π–ª:** `apps/web/src/app/b/[slug]/view.tsx` - –±—ã–ª–æ 1629 —Å—Ç—Ä–æ–∫, —Ç–µ–ø–µ—Ä—å ~1200 —Å—Ç—Ä–æ–∫  
**–ü—Ä–æ–±–ª–µ–º–∞:** –°–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å  
**–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π-–í—ã—Å–æ–∫–∏–π - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é, —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –°–æ–∑–¥–∞–Ω –ø–ª–∞–Ω —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ `REFACTORING_PLAN.md`
- ‚úÖ –í—ã–Ω–µ—Å–µ–Ω—ã —Ç–∏–ø—ã –≤ `types.ts` (Biz, Branch, Service, Staff, Promotion, Slot, BookingStep)
- ‚úÖ –í—ã–Ω–µ—Å–µ–Ω—ã —É—Ç–∏–ª–∏—Ç—ã –≤ `utils.ts` (fmtErr, isNetworkError, withNetworkRetry)
- ‚úÖ –í—ã–Ω–µ—Å–µ–Ω —Ö—É–∫ `useBookingSteps` –≤ `hooks/useBookingSteps.ts`
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ö—É–∫ `useBookingCreation.ts` - –ª–æ–≥–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ö—É–∫ `useGuestBooking.ts` - –ª–æ–≥–∏–∫–∞ –≥–æ—Å—Ç–µ–≤–æ–π –±—Ä–æ–Ω–∏
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã UI:
  - `BookingHeader.tsx` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –±–∏–∑–Ω–µ—Å–µ
  - `PromotionsList.tsx` - —Å–ø–∏—Å–æ–∫ –∞–∫—Ü–∏–π
  - `BookingSteps.tsx` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —à–∞–≥–∞–º
  - `BranchSelector.tsx` - –≤—ã–±–æ—Ä —Ñ–∏–ª–∏–∞–ª–∞
  - `GuestBookingModal.tsx` - –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≥–æ—Å—Ç–µ–≤–æ–π –±—Ä–æ–Ω–∏
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω –≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö —Ö—É–∫–æ–≤ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- ‚úÖ –£–º–µ–Ω—å—à–µ–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–æ–∫ –≤ –≥–ª–∞–≤–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ —Å 1629 –¥–æ ~1200

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –£–ª—É—á—à–µ–Ω–∞ —á–∏—Ç–∞–µ–º–æ—Å—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç—å –∫–æ–¥–∞
- –õ–æ–≥–∏–∫–∞ —Ä–∞–∑–¥–µ–ª–µ–Ω–∞ –Ω–∞ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ö—É–∫–∏
- UI —Ä–∞–∑–±–∏—Ç –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –õ–µ–≥—á–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏
- –ö–æ–¥ —Å—Ç–∞–ª –±–æ–ª–µ–µ –º–æ–¥—É–ª—å–Ω—ã–º –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
- –°–æ–∑–¥–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (DateSelector, StaffSelector, ServiceSelector, TimeSlotSelector, BookingSummary)
- –î–∞–ª—å—à–µ —É–º–µ–Ω—å—à–∏—Ç—å –≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ ~500-700 —Å—Ç—Ä–æ–∫

**–†–µ—à–µ–Ω–∏–µ:**
- –†–∞–∑–±–∏—Ç—å –Ω–∞ –º–µ–Ω—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –í—ã–Ω–µ—Å—Ç–∏ —Ö—É–∫–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã
- –†–∞–∑–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –Ω–∞ –º–æ–¥—É–ª–∏ (booking steps, form validation, etc.)

---

### 9. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ API routes ‚úÖ –ò–ù–§–†–ê–°–¢–†–£–ö–¢–£–†–ê –°–û–ó–î–ê–ù–ê
**–ü—Ä–æ–±–ª–µ–º–∞:** –¢–æ–ª—å–∫–æ 6 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è ~100+ API routes  
**–†–∏—Å–∫:** –í—ã—Å–æ–∫–∏–π - —Ä–µ–≥—Ä–µ—Å—Å–∏–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö, —Å–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞  
**–¢–µ–∫—É—â–µ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ:**
- ‚úÖ `apps/web/src/__tests__/api/quick-hold.test.ts`
- ‚úÖ `apps/web/src/__tests__/api/quick-book-guest.test.ts` (–Ω–æ–≤—ã–π)
- ‚úÖ `apps/web/src/__tests__/api/booking/slots-conflicts.test.ts`
- ‚úÖ `apps/web/src/__tests__/api/staff/shift/close.test.ts`
- ‚úÖ `apps/web/src/__tests__/api/dashboard/finance/all.test.ts`
- ‚úÖ `apps/web/src/__tests__/api/cron/close-shifts.test.ts`
- ‚úÖ `apps/web/src/__tests__/api/bookings/mark-attendance.test.ts`
- ‚úÖ `apps/web/src/__tests__/api/staff/create.test.ts` (–Ω–æ–≤—ã–π)
- ‚úÖ `apps/web/src/__tests__/api/bookings/cancel.test.ts` (–Ω–æ–≤—ã–π)
- ‚ùå –û—Å—Ç–∞–ª—å–Ω—ã–µ ~88+ routes –±–µ–∑ —Ç–µ—Å—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è `testHelpers.ts`:
  - `createMockRequest()` - —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–∫ Request
  - `createMockSupabase()` - —Å–æ–∑–¥–∞–Ω–∏–µ –º–æ–∫ Supabase –∫–ª–∏–µ–Ω—Ç–∞
  - `setupApiTestMocks()` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö –º–æ–∫–æ–≤
  - `expectSuccessResponse()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç–∞
  - `expectErrorResponse()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞ —Å –æ—à–∏–±–∫–æ–π
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –ø—Ä–∏–º–µ—Ä—ã —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ routes:
  - `quick-book-guest.test.ts` - –ø—É–±–ª–∏—á–Ω—ã–π endpoint —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
  - `staff/create.test.ts` - –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π endpoint —Å CRUD
  - `bookings/cancel.test.ts` - endpoint —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
  - `TESTING_GUIDE.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é
  - `TEST_COVERAGE_PLAN.md` - –ø–ª–∞–Ω –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏
- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–µ–Ω—ã –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∫—Ä–∏—Ç–∏—á–Ω—ã–µ, –≤–∞–∂–Ω—ã–µ, –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ)

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö 10 –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö endpoints (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1)
- –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è 20 –≤–∞–∂–Ω—ã—Ö endpoints (–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2)
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å coverage reports

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å unit —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö API routes
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –ë–î –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤

---

### 10. –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ console.log –≤ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–¥–µ ‚úÖ –ß–ê–°–¢–ò–ß–ù–û –†–ï–®–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** 329 –≤—Ö–æ–∂–¥–µ–Ω–∏–π console.log/warn/error –≤ 78 —Ñ–∞–π–ª–∞—Ö  
**–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π - —É—Ç–µ—á–∫–∞ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é  
**–ü—Ä–∏–º–µ—Ä—ã:**
- `apps/web/src/app/b/[slug]/view.tsx:26-36` - debugLog —Ñ—É–Ω–∫—Ü–∏–∏ ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û
- `apps/web/src/middleware.ts:47` - console.warn ‚úÖ –ò–°–ü–†–ê–í–õ–ï–ù–û

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –ó–∞–º–µ–Ω–µ–Ω—ã `debugLog`/`debugWarn` –≤ `view.tsx` –Ω–∞ `logDebug`/`logWarn` –∏–∑ `@/lib/log`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `middleware.ts` - –∑–∞–º–µ–Ω–µ–Ω `console.warn` –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `useBookingSteps.ts` - –∑–∞–º–µ–Ω–µ–Ω—ã `console.log` –Ω–∞ `logDebug`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `ErrorBoundary.tsx` - –∑–∞–º–µ–Ω–µ–Ω `console.error` –Ω–∞ `logError`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `rateLimit.ts` - –∑–∞–º–µ–Ω–µ–Ω—ã `console.warn` –Ω–∞ `logWarn`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `authBiz.ts` - –∑–∞–º–µ–Ω–µ–Ω `console.warn` –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `alerts.ts` - –∑–∞–º–µ–Ω–µ–Ω—ã `console.log/error` –Ω–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω `logger.ts` - —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–∑ `@/lib/log`
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `CONSOLE_LOG_MIGRATION.md` —Å —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏

**–û—Å—Ç–∞–ª–æ—Å—å (~70 —Ñ–∞–π–ª–æ–≤):**
- API routes (notify, staff, auth –∏ –¥—Ä.) - —Ç—Ä–µ–±—É—é—Ç –∑–∞–º–µ–Ω—ã console.log –Ω–∞ logDebug/logWarn/logError
- Client components - —Ç—Ä–µ–±—É—é—Ç –∑–∞–º–µ–Ω—ã
- –£—Ç–∏–ª–∏—Ç—ã - —á–∞—Å—Ç–∏—á–Ω–æ –æ–±–Ω–æ–≤–ª–µ–Ω—ã

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- –ó–∞–º–µ–Ω–∏—Ç—å console.log –≤ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö API routes (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç: notify, staff, auth)
- –ó–∞–º–µ–Ω–∏—Ç—å console.log –≤ client components
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å ESLint –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –∑–∞–ø—Ä–µ—Ç–∞ –ø—Ä—è–º–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è console.*

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π logger (`apps/web/src/lib/log.ts`)
- –£–¥–∞–ª–∏—Ç—å –≤—Å–µ console.* –∏–∑ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–¥–∞
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–ª—å–∫–æ –≤ dev —Ä–µ–∂–∏–º–µ

---

### 11. –ù–µ—Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ ‚úÖ –ß–ê–°–¢–ò–ß–ù–û –†–ï–®–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** –†–∞–∑–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –∫ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫ –≤ —Ä–∞–∑–Ω—ã—Ö —á–∞—Å—Ç—è—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è  
**–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π - —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏, –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ  
**–ü—Ä–∏–º–µ—Ä—ã:**
- ‚úÖ `apps/web/src/lib/apiErrorHandler.ts` - —Ö–æ—Ä–æ—à–∞—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞
- ‚úÖ `apps/web/src/lib/ERROR_HANDLING_GUIDE.md` - —Å–æ–∑–¥–∞–Ω–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–±—Ä–∞–±–æ—Ç–∫–µ –æ—à–∏–±–æ–∫
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã routes: `staff/create`, `services/create`, `bookings/[id]/cancel`
- ‚ùå –û—Å—Ç–∞–ª—å–Ω—ã–µ ~55+ routes —Ç—Ä–µ–±—É—é—Ç –º–∏–≥—Ä–∞—Ü–∏–∏

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ `ERROR_HANDLING_GUIDE.md` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω—ã –∫—Ä–∏—Ç–∏—á–Ω—ã–µ routes –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏:
  - `apps/web/src/app/api/staff/create/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `withErrorHandler`
  - `apps/web/src/app/api/services/create/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `withErrorHandler`
  - `apps/web/src/app/api/bookings/[id]/cancel/route.ts` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `withErrorHandler`
- ‚úÖ –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã —Ñ–æ—Ä–º–∞—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤ - –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `createErrorResponse` –∏ `createSuccessResponse`
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `handleApiError`

**–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤:**
- –£—Å–ø–µ—Ö: `{ ok: true, data?: T }`
- –û—à–∏–±–∫–∞: `{ ok: false, error: string, message?: string, details?: unknown }`

**–°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:**
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ ESLint –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ (`eslint.config.mjs`)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ —Ñ–æ—Ä–º–∞—Ç–æ–≤ –æ—à–∏–±–æ–∫ (`API_ERROR_FORMATS.md`)
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ Swagger —Å—Ö–µ–º–∞ Error —Å –ø–æ–ª–Ω—ã–º –æ–ø–∏—Å–∞–Ω–∏–µ–º —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
- ‚úÖ –ú–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã –∫—Ä–∏—Ç–∏—á–Ω—ã–µ routes: `quick-hold`, `notify`
- ‚è≥ –û—Å—Ç–∞–ª–æ—Å—å –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å ~50+ routes –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `withErrorHandler`

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `withErrorHandler` –≤–æ –≤—Å–µ—Ö API routes
- –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–∏—Ç—å error tracking (Sentry, LogRocket)

---

### 12. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–∏–ø–æ–≤ –≤ runtime ‚úÖ –ß–ê–°–¢–ò–ß–ù–û –†–ï–®–ï–ù–û
**–ü—Ä–æ–±–ª–µ–º–∞:** TypeScript –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç–∏–ø—ã —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–∞–ø–µ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏  
**–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π - –æ—à–∏–±–∫–∏ —Ç–∏–ø–æ–≤ –≤ runtime –ø—Ä–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –∏–∑ API  
**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–∞ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (`apps/web/src/lib/validation/`)
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ `validateRequest()` –∏ `validateQuery()` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ API routes
- ‚úÖ –ì–æ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (UUID, email, phone, booking schemas)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ 2 API routes: `quick-hold`, `quick-book-guest`
- ‚ùå –û—Å—Ç–∞–ª—å–Ω—ã–µ ~98+ API routes –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é
- ‚ùå –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç –¥–∞–Ω–Ω—ã–µ, –ø—Ä–∏—Ö–æ–¥—è—â–∏–µ –∏–∑ API

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å `apps/web/src/lib/validation/` —Å —É—Ç–∏–ª–∏—Ç–∞–º–∏ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- ‚úÖ –§—É–Ω–∫—Ü–∏–∏ `validateRequest()` –∏ `validateQuery()` –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ì–æ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã: `uuidSchema`, `emailSchema`, `phoneSchema`, `quickHoldSchema`, `quickBookGuestSchema`
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `apps/web/src/lib/validation/README.md` —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–û—Å—Ç–∞–ª–æ—Å—å:**
- –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã–µ ~98+ API routes –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `validateRequest()`/`validateQuery()`
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–∞–Ω–Ω—ã—Ö –∏–∑ API –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö (staff, services, branches, promotions, etc.)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `validateRequest()` –≤–æ –≤—Å–µ—Ö POST/PUT/PATCH routes
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `validateQuery()` –≤–æ –≤—Å–µ—Ö GET routes —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –í –∫–ª–∏–µ–Ω—Ç—Å–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–≤–µ—Ç—ã API –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ –ø–æ–≤—ã—à–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å)

---

### 13. –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é ‚úÖ –ß–ê–°–¢–ò–ß–ù–û –†–ï–®–ï–ù–û
**–†–∏—Å–∫:** –°—Ä–µ–¥–Ω–∏–π - –ø—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –ø—Ä–∏ —Ä–æ—Å—Ç–µ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**

**1. –ú–µ–º–æ–∏–∑–∞—Ü–∏—è:**
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `useMemo` –∏ `useCallback` –≤ ~25 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- ‚úÖ –ï—Å—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `useSlotsLoader` (TTL 5 –º–∏–Ω—É—Ç, debounce 300ms)
- ‚úÖ –°–æ–∑–¥–∞–Ω —Ö—É–∫ `useMemoizedCallback` –≤ –º–æ–±–∏–ª—å–Ω–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
- ‚úÖ –ï—Å—Ç—å –º–æ–¥—É–ª—å `apps/web/src/lib/performance.ts` –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- ‚ùå –¢–æ–ª—å–∫–æ 1 –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `React.memo` (`TelegramLoginWidget.tsx`)
- ‚ùå –ú–Ω–æ–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –±–µ–∑ –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ –º–æ–≥—É—Ç –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞—Ç—å—Å—è –∏–∑–ª–∏—à–Ω–µ —á–∞—Å—Ç–æ

**2. Code Splitting:**
- ‚ùå –ù–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è `next/dynamic` –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
- ‚úÖ –ï—Å—Ç—å `Suspense` –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –º–µ—Å—Ç–∞—Ö (`admin/performance/page.tsx`)
- ‚ùå –ë–æ–ª—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é:
  - `apps/web/src/app/staff/StaffFinanceView.tsx` - **1704 —Å—Ç—Ä–æ–∫–∏**
  - `apps/web/src/app/b/[slug]/view.tsx` - **~1200 —Å—Ç—Ä–æ–∫** (—É–ª—É—á—à–µ–Ω–æ —Å 1629)
  - `apps/web/src/app/_components/i18n/LanguageProvider.tsx` - –±–æ–ª—å—à–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

**3. –ò–Ω–¥–µ–∫—Å—ã –ë–î:**
- ‚úÖ –°–æ–∑–¥–∞–Ω–æ –º–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ –º–∏–≥—Ä–∞—Ü–∏—è—Ö:
  - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è `staff_shifts` (staff_id, date, biz_id, status)
  - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è `branch_promotions` (branch_id, biz_id, is_active, type)
  - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è —Ä–µ–π—Ç–∏–Ω–≥–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã (staff_day_metrics, branch_day_metrics, biz_day_metrics)
  - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è `client_promotion_usage`, `client_referrals`
  - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è `whatsapp_otp_codes`, `profiles` (telegram_id, yandex_id)
  - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è `branch_working_hours`, `staff_shift_items`
- ‚úÖ –ï—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ `20260125000001_optimize_finance_queries.sql`
- ‚ö†Ô∏è –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ –∏–Ω–¥–µ–∫—Å–∞–º–∏ –≤—Å–µ—Ö —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–†–µ—à–µ–Ω–∏–µ (–†–ï–ê–õ–ò–ó–û–í–ê–ù–û):**
- ‚úÖ –°–æ–∑–¥–∞–Ω –º–æ–¥—É–ª—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (`apps/web/src/lib/performance.ts`)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø–æ—Ä–æ–≥–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π:
  - `get_free_slots_service_day_v2`: warn 2s, error 5s
  - `shift_close`: warn 3s, error 10s
  - `apply_promotion`: warn 1s, error 3s
  - `recalculate_ratings`: warn 30s, error 60s
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ debounce –≤ `useSlotsLoader`
- ‚úÖ –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∏–Ω–¥–µ–∫—Å–æ–≤ –ë–î –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (`/admin/performance`)

**–û—Å—Ç–∞–ª–æ—Å—å:**
- –î–æ–±–∞–≤–∏—Ç—å `React.memo` –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (—Å–ø–∏—Å–∫–∏, —Ç–∞–±–ª–∏—Ü—ã, —Ñ–æ—Ä–º—ã)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `next/dynamic` –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:
  - `StaffFinanceView.tsx` - –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
  - `LanguageProvider.tsx` - –º–æ–∂–Ω–æ –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏
  - –î—Ä—É–≥–∏–µ –±–æ–ª—å—à–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ dashboard
- –ü—Ä–æ–≤–µ—Å—Ç–∏ –∞—É–¥–∏—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ë–î:
  - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å EXPLAIN –¥–ª—è –º–µ–¥–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
  - –î–æ–±–∞–≤–∏—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—é—â–∏–µ –∏–Ω–¥–µ–∫—Å—ã
  - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å N+1 –∑–∞–ø—Ä–æ—Å—ã
- –î–æ–±–∞–≤–∏—Ç—å `useMemo`/`useCallback` –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–∏–≤–∞—é—Ç—Å—è
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å React DevTools Profiler –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `React.memo` –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—É—á–∞—é—Ç —Å—Ç–∞–±–∏–ª—å–Ω—ã–µ props
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `next/dynamic` —Å `ssr: false` –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –¥–ª—è SEO
- –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ `/admin/performance`
- –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –≤ Supabase Dashboard

---

## üü° –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞)

### 14. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–∞ `any`
**–ü—Ä–æ–±–ª–µ–º–∞:** 57 –≤—Ö–æ–∂–¥–µ–Ω–∏–π `any` –≤ 19 —Ñ–∞–π–ª–∞—Ö  
**–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π-–°—Ä–µ–¥–Ω–∏–π - –ø–æ—Ç–µ—Ä—è type safety  
**–ü—Ä–∏–º–µ—Ä—ã:**
- `apps/web/src/app/b/[slug]/view.tsx:10`
- `apps/web/src/app/admin/api/businesses/[id]/owner/upsert/route.ts:1`

**–†–µ—à–µ–Ω–∏–µ:**
- –ó–∞–º–µ–Ω–∏—Ç—å `any` –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã –∏–ª–∏ `unknown`
- –í–∫–ª—é—á–∏—Ç—å –ø—Ä–∞–≤–∏–ª–æ ESLint `@typescript-eslint/no-explicit-any`

---

### 15. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ @ts-ignore –∏ @ts-expect-error
**–ü—Ä–æ–±–ª–µ–º–∞:** 15 –≤—Ö–æ–∂–¥–µ–Ω–∏–π –≤ 11 —Ñ–∞–π–ª–∞—Ö  
**–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π - —Å–∫—Ä—ã—Ç–∏–µ —Ä–µ–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º —Å —Ç–∏–ø–∞–º–∏  
**–ü—Ä–∏–º–µ—Ä—ã:**
- `apps/web/src/app/b/[slug]/view.tsx:1`
- `apps/web/src/app/b/[slug]/hooks/useSlotsLoader.ts:1`

**–†–µ—à–µ–Ω–∏–µ:**
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å —Ç–∏–ø–∞–º–∏ –≤–º–µ—Å—Ç–æ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `@ts-expect-error` —Ç–æ–ª—å–∫–æ —Å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º, –ø–æ—á–µ–º—É —ç—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ

---

### 16. –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
**–ü—Ä–æ–±–ª–µ–º—ã:**
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –≤ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö
- –ü–æ—Ö–æ–∂–∏–µ API routes —Å –ø–æ–≤—Ç–æ—Ä—è—é—â–µ–π—Å—è –ª–æ–≥–∏–∫–æ–π
- –î—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (vercel.json –≤ –∫–æ—Ä–Ω–µ –∏ –≤ apps/web)

**–†–µ—à–µ–Ω–∏–µ:**
- –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â—É—é –ª–æ–≥–∏–∫—É –≤ —É—Ç–∏–ª–∏—Ç—ã
- –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã/—Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è API routes
- –£–¥–∞–ª–∏—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

---

### 17. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–ª—è API
**–ü—Ä–æ–±–ª–µ–º–∞:** Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –µ—Å—Ç—å, –Ω–æ –Ω–µ –≤—Å–µ endpoints –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã  
**–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π - —Å–ª–æ–∂–Ω–æ—Å—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤  
**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ API endpoints
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

---

### 18. –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
**–ü—Ä–æ–±–ª–µ–º—ã:**
- –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ (–º–Ω–æ–∂–µ—Å—Ç–≤–æ .md —Ñ–∞–π–ª–æ–≤)
- –ù–µ—è—Å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —á–µ—Ç–∫–æ–≥–æ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –Ω–∞ —Å–ª–æ–∏ (domain, application, infrastructure)

**–†–µ—à–µ–Ω–∏–µ:**
- –û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –≤ –ø–∞–ø–∫—É `docs/`
- –ü—Ä–∏–º–µ–Ω–∏—Ç—å Clean Architecture –∏–ª–∏ –ø–æ–¥–æ–±–Ω—ã–π –ø–æ–¥—Ö–æ–¥
- –°–æ–∑–¥–∞—Ç—å ADR (Architecture Decision Records)

---

## üü¢ –ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ (–£–ª—É—á—à–µ–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)

### 19. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∏ –∞–ª–µ—Ä—Ç–∏–Ω–≥–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** –ï—Å—Ç—å health-check endpoints, –Ω–æ –Ω–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Å–∏—Å—Ç–µ–º–∞–º–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞  
**–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π - –ø—Ä–æ–±–ª–µ–º—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –ø–æ–∑–¥–Ω–æ  
**–†–µ—à–µ–Ω–∏–µ:**
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å Sentry –¥–ª—è error tracking
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —á–µ—Ä–µ–∑ Vercel Analytics
- –î–æ–±–∞–≤–∏—Ç—å –∞–ª–µ—Ä—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–µ—Ç—Ä–∏–∫

---

### 20. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ CI/CD pipeline
**–ü—Ä–æ–±–ª–µ–º–∞:** –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤, –ª–∏–Ω—Ç–∏–Ω–≥–∞, type checking  
**–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π - –ø—Ä–æ–±–ª–µ–º—ã –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞—é—Ç—Å—è –ø–æ–∑–¥–Ω–æ  
**–†–µ—à–µ–Ω–∏–µ:**
- –ù–∞—Å—Ç—Ä–æ–∏—Ç—å GitHub Actions / GitLab CI
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –Ω–∞ –∫–∞–∂–¥—ã–π PR
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ staging/production

---

### 21. –ù–µ–æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è TypeScript
**–ü—Ä–æ–±–ª–µ–º–∞:** `tsconfig.json` –∏—Å–∫–ª—é—á–∞–µ—Ç —Ç–µ—Å—Ç—ã –∏–∑ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏  
**–†–∏—Å–∫:** –û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π - —Ç–µ—Å—Ç—ã –Ω–µ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –Ω–∞ —Ç–∏–ø—ã  
**–§–∞–π–ª:** `apps/web/tsconfig.json:40-48`

**–†–µ—à–µ–Ω–∏–µ:**
- –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π `tsconfig.test.json` –¥–ª—è —Ç–µ—Å—Ç–æ–≤
- –ò–ª–∏ –≤–∫–ª—é—á–∏—Ç—å —Ç–µ—Å—Ç—ã –≤ –æ—Å–Ω–æ–≤–Ω–æ–π tsconfig

---

### 22. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ pre-commit hooks –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
**–ü—Ä–æ–±–ª–µ–º–∞:** Husky –Ω–∞—Å—Ç—Ä–æ–µ–Ω, –Ω–æ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ–≤–µ—Ä–æ–∫  
**–†–∏—Å–∫:** –û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π  
**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–æ–≤ –≤ pre-commit
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –ª–∏–Ω—Ç–∏–Ω–≥–∞
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ñ–æ—Ä–º–∞—Ç–∞ –∫–æ–¥–∞ (Prettier)

---

### 23. –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö/–æ—Ç–ª–∞–¥–æ—á–Ω—ã—Ö SQL —Ñ–∞–π–ª–æ–≤
**–ü—Ä–æ–±–ª–µ–º–∞:** –í `supabase/` –º–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö SQL —Ñ–∞–π–ª–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏  
**–†–∏—Å–∫:** –û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π - –∑–∞—Å–æ—Ä–µ–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è  
**–§–∞–π–ª—ã:**
- `supabase/debug_queries.sql`
- `supabase/simple_debug_queries.sql`
- `supabase/full_diagnostic_test.sql`
- –ò –¥—Ä—É–≥–∏–µ...

**–†–µ—à–µ–Ω–∏–µ:**
- –£–¥–∞–ª–∏—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ò–ª–∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å –≤ `supabase/debug/` –∏ –¥–æ–±–∞–≤–∏—Ç—å –≤ .gitignore

---

### 24. –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è API
**–ü—Ä–æ–±–ª–µ–º–∞:** API endpoints –Ω–µ –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω—ã  
**–†–∏—Å–∫:** –ù–∏–∑–∫–∏–π - —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è API –±–µ–∑ breaking changes  
**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–∏—Ç—å –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: `/api/v1/...`
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ –¥–ª—è –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

### –†–∞–∑–º–µ—Ä –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã
- **Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:** ~286 —Ñ–∞–π–ª–æ–≤ –≤ `apps/web/src/app/`
- **Mobile –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:** ~40+ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —ç–∫—Ä–∞–Ω–æ–≤
- **API Routes:** ~100+ endpoints
- **–ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î:** 35 —Ñ–∞–π–ª–æ–≤ –º–∏–≥—Ä–∞—Ü–∏–π

### –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏
- **Unit —Ç–µ—Å—Ç—ã:** 6 —Ñ–∞–π–ª–æ–≤
- **E2E —Ç–µ—Å—Ç—ã:** 3 —Ñ–∞–π–ª–∞ (booking-flow, promotion-application, shift-management)
- **–ü–æ–∫—Ä—ã—Ç–∏–µ:** ~5-10% –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã

### –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞
- **TypeScript strict mode:** ‚úÖ –í–∫–ª—é—á–µ–Ω
- **ESLint:** ‚úÖ –ù–∞—Å—Ç—Ä–æ–µ–Ω
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `any`:** 57 –≤—Ö–æ–∂–¥–µ–Ω–∏–π
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `@ts-ignore`:** 15 –≤—Ö–æ–∂–¥–µ–Ω–∏–π
- **Console.log –≤ –∫–æ–¥–µ:** 329 –≤—Ö–æ–∂–¥–µ–Ω–∏–π

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –ù–µ–¥–µ–ª—è 1 (–ö—Ä–∏—Ç–∏—á–Ω–æ)
1. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
2. ‚úÖ –ê—É–¥–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è Service Role Key
3. ‚úÖ –ó–∞–º–µ–Ω–∞ in-memory rate limiting –Ω–∞ Redis
4. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Error Boundaries –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

### –ù–µ–¥–µ–ª—è 2-3 (–í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
5. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ Security Headers
6. ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤—Å–µ—Ö API routes
7. ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –±–æ–ª—å—à–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ `view.tsx`
8. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö API routes

### –ú–µ—Å—è—Ü 1-2 (–°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
9. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ console.log –∏–∑ –ø—Ä–æ–¥–∞–∫—à–Ω –∫–æ–¥–∞
10. ‚úÖ –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
11. ‚úÖ –ó–∞–º–µ–Ω–∞ `any` –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã
12. ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ `@ts-ignore` –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º —Å —Ç–∏–ø–∞–º–∏

### –ü–æ—Å—Ç–æ—è–Ω–Ω–æ (–ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
13. ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
14. ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
15. ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
16. ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ª—É—á—à–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ü—Ä–æ–µ–∫—Ç –∏–º–µ–µ—Ç —Ö–æ—Ä–æ—à—É—é –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—É—é –æ—Å–Ω–æ–≤—É –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å–≤—è–∑–∞–Ω—ã —Å:
1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é** - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ env –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É—Ç–µ—á–∫–∏ –¥–∞–Ω–Ω—ã—Ö
2. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å—é** - –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–µ—Å—Ç–æ–≤, error boundaries, –≤–∞–ª–∏–¥–∞—Ü–∏–∏
3. **–ö–∞—á–µ—Å—Ç–≤–æ–º –∫–æ–¥–∞** - –±–æ–ª—å—à–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `any`, console.log

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∑–∞—Ç–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ª—É—á—à–µ–Ω–∏—é –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞.

---

**–ê–≤—Ç–æ—Ä –æ–±–∑–æ—Ä–∞:** AI Code Review Assistant  
**–î–∞—Ç–∞:** 2026-01-26

